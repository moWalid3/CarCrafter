import{a as B,b as G,c as L,d as U,e as j,g as $}from"./chunk-4PYGUJYJ.js";import{a as te,b as re}from"./chunk-WQRF25CT.js";import{a as ce,b as ue,c as fe,d as ge}from"./chunk-CE62HOJC.js";import{a as Ce}from"./chunk-YWQNLM2M.js";import{a as de,b as pe}from"./chunk-EFHE4ODB.js";import{W as R,X as T}from"./chunk-WRWEAHUH.js";import{a as he,b as we}from"./chunk-AXFDQVPV.js";import{d as le,e as se}from"./chunk-FGE7CVJ5.js";import{N as ie,O as ne,P as ae,Q as oe,T as me,b as z,d as m,f as J,g as K,h as Q,j as d,l as W,m as X,n as Y,o as Z,u as ee}from"./chunk-FHDG2HXI.js";import{a as H,b as A,c as D}from"./chunk-SEFBTSWJ.js";import{a as O,b as V}from"./chunk-XVANXVFP.js";import{O as k,U as N}from"./chunk-XNMLNDDQ.js";import"./chunk-CDH3FYYZ.js";import"./chunk-YBTQI4HV.js";import"./chunk-KE5EG2OL.js";import{Cb as b,Db as g,Ib as c,Nb as e,Ob as t,Pb as s,Tb as y,Wb as E,cb as o,ga as w,gc as M,hc as r,ic as x,jc as I,ka as P,nc as F,oc as q,pb as S,ta as C,ua as _,xb as p}from"./chunk-YVS74DTD.js";function _e(n,a){n&1&&(e(0,"mat-error"),r(1,"Username is "),e(2,"strong"),r(3,"required"),t()())}function Se(n,a){n&1&&(e(0,"mat-error"),r(1,"Username must have a minimum of 3 characters."),t())}function Ee(n,a){n&1&&(e(0,"mat-error"),r(1,"Email is "),e(2,"strong"),r(3,"required"),t()())}function ve(n,a){n&1&&(e(0,"mat-error"),r(1,"Enter a valid email."),t())}function be(n,a){n&1&&(e(0,"mat-error"),r(1,"Password is "),e(2,"strong"),r(3,"required"),t()())}function Me(n,a){n&1&&(e(0,"mat-error"),r(1,"Password must have a minimum of 6 characters."),t())}function xe(n,a){n&1&&(e(0,"mat-error"),r(1,"RePassword is "),e(2,"strong"),r(3,"required"),t()())}function Pe(n,a){n&1&&(e(0,"mat-error"),r(1,"Password and rePassword don't match."),t())}function ye(n,a){n&1&&(e(0,"mat-error"),r(1,"Gender is "),e(2,"strong"),r(3,"required"),t()())}function Ie(n,a){n&1&&(e(0,"mat-error"),r(1,"Phone number is "),e(2,"strong"),r(3,"required"),t()())}function Fe(n,a){n&1&&(e(0,"mat-error"),r(1,"City is "),e(2,"strong"),r(3,"required"),t()())}function qe(n,a){n&1&&(e(0,"mat-error"),r(1,"Address is "),e(2,"strong"),r(3,"required"),t()())}function Re(n,a){n&1&&(e(0,"div",29),s(1,"mat-spinner"),t())}var nt=(()=>{let a=class a{constructor(){this.authService=w(Ce),this.toaster=w(we),this.router=w(R),this.loading=S(!1),this.passwordIconHide=S(!0),this.rePasswordIconHide=S(!0),this.registerForm=new Q({username:new d(null,[m.required,m.minLength(3)]),email:new d(null,[m.required,m.pattern(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)]),password:new d(null,[m.required,m.minLength(6)]),rePassword:new d(null,[m.required]),gender:new d(null,[m.required]),dateOfBirth:new d(null),phoneNumber:new d(null,[m.required]),city:new d(null,[m.required]),postalCode:new d(null,[m.required,m.min(1e4),m.max(99999)]),address:new d(null,[m.required])},{validators:this.matchingPassword})}matchingPassword(l){let u=l.get("password"),i=l.get("rePassword");return u?.value===i?.value?null:(i?.setErrors({matchPassword:"Password and rePassword don't match"}),{matchPassword:"Password and rePassword don't match"})}onClickAtEyeIcon(l,u){u==="password"?this.passwordIconHide.update(i=>!i):this.rePasswordIconHide.update(i=>!i),l.stopPropagation(),l.preventDefault()}onSubmit(){this.registerForm.valid?(this.loading.set(!0),this.authService.register(this.createUser()).subscribe({next:l=>{this.loading.set(!1),this.toaster.showToaster("Account created successfully."),this.router.navigate(["/"]),console.log(l)},error:l=>{this.loading.set(!1),this.toaster.showToaster(l.error.message,"error")}})):this.toaster.showToaster("Please complete all fields correctly before submitting the form.","error")}createUser(){return{name:this.registerForm.value.username,email:this.registerForm.value.email,password:this.registerForm.value.password,rePassword:this.registerForm.value.rePassword,phone:"01111111111"}}};a.\u0275fac=function(u){return new(u||a)},a.\u0275cmp=P({type:a,selectors:[["app-register"]],standalone:!0,features:[F([k()]),q],decls:83,vars:21,consts:[["picker",""],["postalCode",""],[1,"container",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"justify-content-center"],[1,"main-title"],[1,"row","gx-3","gy-1"],["appearance","outline",1,"col-sm-6"],["matInput","","placeholder","Username...","formControlName","username"],["matInput","","placeholder","ex@gmail.com","type","email","formControlName","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","rePassword",3,"type"],["placeholder","Gender","formControlName","gender"],["value","male"],["value","female"],["matInput","","formControlName","dateOfBirth",3,"matDatepicker"],["matIconSuffix","",3,"for"],["appearance","outline",1,"col-sm-4"],["matInput","","placeholder","+1 555-123-4567","type","tel","formControlName","phoneNumber"],["matInput","","placeholder","City...","type","tel","formControlName","city"],["matInput","","type","number","formControlName","postalCode"],["align","end"],["align","start"],["appearance","outline",1,"col-12"],["matInput","","placeholder","Address...","formControlName","address"],[1,"text-muted"],["routerLink","/auth/login","mat-button","","color","primary","type","button"],["mat-flat-button","","color","primary","type","submit"],[1,"overlay"]],template:function(u,i){if(u&1){let f=y();e(0,"form",2),E("ngSubmit",function(){return C(f),_(i.onSubmit())}),e(1,"mat-card",3)(2,"mat-card-header",4)(3,"mat-card-title")(4,"h2",5),r(5,"Register"),t()()(),e(6,"mat-card-content",6)(7,"mat-form-field",7)(8,"mat-label"),r(9,"Username"),t(),s(10,"input",8),p(11,_e,4,0,"mat-error")(12,Se,2,0,"mat-error"),t(),e(13,"mat-form-field",7)(14,"mat-label"),r(15,"Email"),t(),s(16,"input",9),p(17,Ee,4,0,"mat-error")(18,ve,2,0,"mat-error"),t(),e(19,"mat-form-field",7)(20,"mat-label"),r(21,"Password"),t(),s(22,"input",10),e(23,"button",11),E("click",function(v){return C(f),_(i.onClickAtEyeIcon(v,"password"))}),e(24,"mat-icon"),r(25),t()(),p(26,be,4,0,"mat-error")(27,Me,2,0,"mat-error"),t(),e(28,"mat-form-field",7)(29,"mat-label"),r(30,"RePassword"),t(),s(31,"input",12),e(32,"button",11),E("click",function(v){return C(f),_(i.onClickAtEyeIcon(v,"rePassword"))}),e(33,"mat-icon"),r(34),t()(),p(35,xe,4,0,"mat-error")(36,Pe,2,0,"mat-error"),t(),e(37,"mat-form-field",7)(38,"mat-select",13)(39,"mat-option",14),r(40,"Male"),t(),e(41,"mat-option",15),r(42,"Female"),t()(),p(43,ye,4,0,"mat-error"),t(),e(44,"mat-form-field",7)(45,"mat-label"),r(46,"Date Of Birth"),t(),s(47,"input",16)(48,"mat-datepicker-toggle",17)(49,"mat-datepicker",null,0),t(),e(51,"mat-form-field",18)(52,"mat-label"),r(53,"Phone Number"),t(),s(54,"input",19),p(55,Ie,4,0,"mat-error"),t(),e(56,"mat-form-field",18)(57,"mat-label"),r(58,"City"),t(),s(59,"input",20),p(60,Fe,4,0,"mat-error"),t(),e(61,"mat-form-field",18)(62,"mat-label"),r(63,"Postal Code"),t(),s(64,"input",21,1),e(66,"mat-hint",22),r(67),t(),e(68,"mat-hint",23),r(69,"Must be 5 numbers"),t()(),e(70,"mat-form-field",24)(71,"mat-label"),r(72,"Address"),t(),s(73,"textarea",25),p(74,qe,4,0,"mat-error"),t()(),e(75,"mat-card-actions")(76,"span",26),r(77,"Already have an account?"),e(78,"button",27),r(79,"Login"),t()(),e(80,"button",28),r(81,"Register"),t()()()(),p(82,Re,2,0,"div",29)}if(u&2){let f=M(50),h=M(65);g("formGroup",i.registerForm),o(11),c(i.registerForm.controls.username.hasError("required")?11:i.registerForm.controls.username.hasError("minlength")?12:-1),o(6),c(i.registerForm.controls.email.hasError("required")?17:i.registerForm.controls.email.hasError("pattern")?18:-1),o(5),g("type",i.passwordIconHide()?"password":"text"),o(),b("aria-label","Hide password")("aria-pressed",i.passwordIconHide()),o(2),x(i.passwordIconHide()?"visibility_off":"visibility"),o(),c(i.registerForm.controls.password.hasError("required")?26:i.registerForm.controls.password.hasError("minlength")?27:-1),o(5),g("type",i.rePasswordIconHide()?"password":"text"),o(),b("aria-label","Hide password")("aria-pressed",i.rePasswordIconHide()),o(2),x(i.rePasswordIconHide()?"visibility_off":"visibility"),o(),c(i.registerForm.controls.rePassword.hasError("required")?35:i.registerForm.controls.rePassword.hasError("matchPassword")?36:-1),o(8),c(i.registerForm.controls.gender.hasError("required")?43:-1),o(4),g("matDatepicker",f),o(),g("for",f),o(7),c(i.registerForm.controls.phoneNumber.hasError("required")?55:-1),o(5),c(i.registerForm.controls.city.hasError("required")?60:-1),o(7),I("",h.value.length," / 5"),o(7),c(i.registerForm.controls.address.hasError("required")?74:-1),o(8),c(i.loading()?82:-1)}},dependencies:[se,le,me,ie,ae,ne,oe,D,H,A,pe,de,N,$,B,U,L,j,G,ee,W,z,X,J,K,Y,Z,ge,ce,ue,fe,V,O,re,te,he,T],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{max-width:50rem;margin:auto}[_nghost-%COMP%]   mat-card-content[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}[_nghost-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{margin-bottom:.75rem;justify-content:space-between;flex-wrap:wrap-reverse;gap:1rem}"]});let n=a;return n})();export{nt as RegisterComponent};
