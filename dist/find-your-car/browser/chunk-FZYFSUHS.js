import{a as P,b as I,c as L,d as T,e as O,g as k}from"./chunk-4PYGUJYJ.js";import{a as V,b as R}from"./chunk-WQRF25CT.js";import{a as Y}from"./chunk-YWQNLM2M.js";import{W as w}from"./chunk-WRWEAHUH.js";import{a as W,b as X}from"./chunk-AXFDQVPV.js";import{d as Q,e as U}from"./chunk-FGE7CVJ5.js";import{N as $,O as z,Q as J,T as K,b as H,d as s,f as N,g as q,h as A,j as C,l as D,n as G,o as B,u as j}from"./chunk-FHDG2HXI.js";import{a as v,b as y,c as E}from"./chunk-SEFBTSWJ.js";import{a as x,b as F}from"./chunk-XVANXVFP.js";import"./chunk-XNMLNDDQ.js";import"./chunk-CDH3FYYZ.js";import"./chunk-YBTQI4HV.js";import"./chunk-KE5EG2OL.js";import{Cb as _,Db as g,Ib as c,Nb as t,Ob as e,Pb as u,Wb as h,cb as m,ga as d,hc as i,ic as S,ka as M,oc as b,pb as f,xb as p}from"./chunk-YVS74DTD.js";function et(o,r){o&1&&(t(0,"mat-error"),i(1,"Email is "),t(2,"strong"),i(3,"required"),e()())}function it(o,r){o&1&&(t(0,"mat-error"),i(1,"Enter a valid email."),e())}function ot(o,r){o&1&&(t(0,"mat-error"),i(1,"Password is "),t(2,"strong"),i(3,"required"),e()())}function rt(o,r){o&1&&(t(0,"mat-error"),i(1,"Password must have a minimum of 6 characters."),e())}function nt(o,r){o&1&&(t(0,"div",12),u(1,"mat-spinner"),e())}var xt=(()=>{let r=class r{constructor(){this.authService=d(Y),this.toaster=d(X),this.router=d(w),this.loading=f(!1),this.passwordIconHide=f(!0),this.loginForm=new A({email:new C(null,[s.required,s.pattern(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)]),password:new C(null,[s.required,s.minLength(6)])})}onClickAtEyeIcon(l){this.passwordIconHide.update(a=>!a),l.stopPropagation(),l.preventDefault()}onSubmit(){if(this.loginForm.valid){this.loading.set(!0);let l={email:this.loginForm.value.email,password:this.loginForm.value.password};this.authService.login(l).subscribe({next:a=>{this.loading.set(!1),this.toaster.showToaster("Login completed successfully."),this.router.navigate(["/"])},error:a=>{this.loading.set(!1),this.toaster.showToaster(a.error.message,"error")}})}else this.toaster.showToaster("Please complete all fields correctly before submitting the form.","error")}};r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=M({type:r,selectors:[["app-login"]],standalone:!0,features:[b],decls:30,vars:8,consts:[[1,"container",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"justify-content-center"],[1,"main-title"],["appearance","outline",1,"mb-2"],["matInput","","placeholder","ex@gmail.com","type","email","formControlName","email"],["appearance","outline"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"text-muted"],["routerLink","/auth/login","mat-button","","color","primary","type","button"],["mat-flat-button","","color","primary","type","submit"],[1,"overlay"]],template:function(a,n){a&1&&(t(0,"form",0),h("ngSubmit",function(){return n.onSubmit()}),t(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title")(4,"h2",3),i(5,"Login"),e()()(),t(6,"mat-card-content")(7,"mat-form-field",4)(8,"mat-label"),i(9,"Email"),e(),u(10,"input",5),p(11,et,4,0,"mat-error")(12,it,2,0,"mat-error"),e(),t(13,"mat-form-field",6)(14,"mat-label"),i(15,"Password"),e(),u(16,"input",7),t(17,"button",8),h("click",function(tt){return n.onClickAtEyeIcon(tt)}),t(18,"mat-icon"),i(19),e()(),p(20,ot,4,0,"mat-error")(21,rt,2,0,"mat-error"),e()(),t(22,"mat-card-actions")(23,"span",9),i(24,"Don't have an account yet?"),t(25,"button",10),i(26,"Create Account"),e()(),t(27,"button",11),i(28,"Login"),e()()()(),p(29,nt,2,0,"div",12)),a&2&&(g("formGroup",n.loginForm),m(11),c(n.loginForm.controls.email.hasError("required")?11:n.loginForm.controls.email.hasError("pattern")?12:-1),m(5),g("type",n.passwordIconHide()?"password":"text"),m(),_("aria-label","Hide password")("aria-pressed",n.passwordIconHide()),m(2),S(n.passwordIconHide()?"visibility_off":"visibility"),m(),c(n.loginForm.controls.password.hasError("required")?20:n.loginForm.controls.password.hasError("minlength")?21:-1),m(9),c(n.loading()?29:-1))},dependencies:[U,Q,K,$,z,J,E,v,y,k,P,T,L,O,I,j,D,H,N,q,G,B,F,x,R,V,W],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{max-width:50rem;margin:auto}[_nghost-%COMP%]   mat-card-content[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}[_nghost-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{margin-bottom:.75rem;justify-content:space-between;flex-wrap:wrap-reverse;gap:1rem}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:30rem;display:block;margin:auto;margin-bottom:1rem}"]});let o=r;return o})();export{xt as LoginComponent};
